webpackJsonp([1],{"2hz1":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement;return(t._self._c||a)("div",{attrs:{id:"disqus_thread"}})},n=[],s={render:i,staticRenderFns:n};a.a=s},BlZC:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"comments"},[e("mu-sub-header",[t._v("说明")]),t._v(" "),e("mu-content-block",[t._v("\n    个人的Vue小练习，用于快速下载B站弹幕，输入avid可以查找对应视频并添加到列表。\n  ")]),t._v(" "),e("mu-content-block",[t._v("\n    自行下载视频使用"),e("a",{attrs:{href:"https://github.com/AncientLysine/BiliLocal"}},[t._v("BiliLocal")]),t._v("播放器即可播放弹幕\n  ")]),t._v(" "),e("mu-content-block",[t._v("\n    后台在heroku，所以比较慢，且30分钟不使用会关闭，下次请求要花几秒重启。\n  ")]),t._v(" "),e("vue-disqus",{staticStyle:{margin:"14px"},attrs:{shortname:"zxc-danmu",url:"https://t.zxc.science/danmu/#about"}})],1)},n=[],s={render:i,staticRenderFns:n};a.a=s},E51W:function(t,a){},FzLf:function(t,a,e){"use strict";var i=e("BO1k"),n=e.n(i),s=e("mtWM"),o=e.n(s),r=e("V33R"),c=e.n(r);a.a={data:function(){return{getDataLock:!1,showSizeChanger:!0,pageSizeOption:[10,20,30,40],currentPage:1,limit:10,popup_data:[],danmu_data:{},searchWord:"",copyXmlText:"",danmuPopUp:!1,successDialog:!1,failDialog:!1,snackbar:!1,snackbarMessage:"提交请求过快"}},methods:{getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.getDataLock)console.log("waiting for request finish");else{this.getDataLock=!0;var e=this,i="https://zxc-flask.herokuapp.com/api/danmu/get_data?avid="+t+"&title="+a+"&limit="+this.limit+"&page="+this.currentPage;o.a.get(i).then(function(t){console.log("getData success"),console.log(t.data),e.danmu_data=t.data,setTimeout(function(){e.getDataLock=!1},500)}).catch(function(t){e.snackbarMessage="数据加载失败！",e.showSnackbar(!1),console.log("getData error: "+t),setTimeout(function(){e.getDataLock=!1},1500)})}},search:function(){this.getDataLock&&(this.snackbarMessage="提交请求过快!",this.showSnackbar()),this.limit=10,this.currentPage=1,console.log("search"),/^\d{4,12}$/.test(this.searchWord)?this.getData(this.searchWord,""):this.getData("",this.searchWord)},handlePageChange:function(t){this.currentPage=t,this.getData()},handlePageSizeChange:function(t){this.limit=t,this.getData()},handleInput:function(t){this.searchWord=t},closePopup:function(){this.danmuPopUp=!1},handleRowClick:function(t){console.log("tr selected:"+t),this.popup_data=this.danmu_data.data[t].parts,this.danmuPopUp=!0,this.copyXmlText="";var a=!0,e=!1,i=void 0;try{for(var s,o=n()(this.danmu_data.data[t].parts);!(a=(s=o.next()).done);a=!0){var r=s.value;this.copyXmlText+=r.xml+"\n"}}catch(t){e=!0,i=t}finally{try{!a&&o.return&&o.return()}finally{if(e)throw i}}},closeDialog:function(){this.successDialog=!1,this.failDialog=!1},showSnackbar:function(){var t=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.snackbar=!0,this.snackTimer&&clearTimeout(this.snackTimer),a&&(this.snackTimer=setTimeout(function(){t.snackbar=!1},2e3))},hideSnackbar:function(){this.snackbar=!1,this.snackTimer&&clearTimeout(this.snackTimer)}},created:function(){this.getData();var t=this,a=new c.a(".copy-btn");a.on("success",function(a){t.successDialog=!0}),a.on("error",function(a){t.failDialog=!0})}}},M93x:function(t,a,e){"use strict";function i(t){e("rwQA")}var n=e("xJD8"),s=e("dGqh"),o=e("VU/8"),r=i,c=o(n.a,s.a,!1,r,"data-v-0984f7f0",null);a.a=c.exports},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("M93x"),n=e("YaEn"),s=e("7+uW"),o=e("u64Q"),r=e.n(o),c=e("E51W");e.n(c);s.default.use(r.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:n.a,template:"<App/>",components:{App:i.a}})},PyD3:function(t,a){},YaEn:function(t,a,e){"use strict";var i=e("7+uW"),n=e("/ocq"),s=e("aHFF"),o=e("c27y");i.default.use(n.a),a.a=new n.a({routes:[{path:"/",redirect:"/danmu"},{path:"/danmu",name:"Danmu",component:s.a},{path:"/about",name:"About",component:o.a}]})},Zs8U:function(t,a,e){"use strict";var i=e("d9EC");a.a={components:{VueDisqus:i.a}}},aHFF:function(t,a,e){"use strict";function i(t){e("PyD3")}var n=e("FzLf"),s=e("k78S"),o=e("VU/8"),r=i,c=o(n.a,s.a,!1,r,null,null);a.a=c.exports},c27y:function(t,a,e){"use strict";var i=e("Zs8U"),n=e("BlZC"),s=e("VU/8"),o=s(i.a,n.a,!1,null,null,null);a.a=o.exports},d9EC:function(t,a,e){"use strict";var i=e("gNKr"),n=e("2hz1"),s=e("VU/8"),o=s(i.a,n.a,!1,null,null,null);a.a=o.exports},dGqh:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"layout"},[e("div",{staticClass:"header"},[e("div",{staticClass:"logo"},[t._v("\n     Danmu\n    ")]),t._v(" "),e("div",{staticClass:"nav"},[e("mu-tabs",{staticClass:"tab",attrs:{value:t.activeTab},on:{change:t.handleTabChange}},[e("mu-tab",{attrs:{value:"Danmu",title:"Home"}}),t._v(" "),e("mu-tab",{attrs:{value:"About",title:"About"}})],1)],1)]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"breadcrumb",staticStyle:{height:"24px"}}),t._v(" "),e("div",{staticClass:"body"},[e("router-view")],1)]),t._v(" "),e("div",{staticClass:"footer"},[t._v("\n    ©2017 Created by zxc.science\n  ")])])},n=[],s={render:i,staticRenderFns:n};a.a=s},gNKr:function(t,a,e){"use strict";a.a={name:"vue-disqus",props:{shortname:{type:String,required:!0},identifier:{type:String,required:!1},url:{type:String,required:!1},title:{type:String,required:!1},remote_auth_s3:{type:String,required:!1},api_key:{type:String,required:!1},sso_config:{type:Object,required:!1},language:{type:String,required:!1}},mounted:function(){if(window.DISQUS)return void this.reset(window.DISQUS);this.init()},methods:{reset:function(t){var a=this;t.reset({reload:!0,config:function(){a.setBaseConfig(this)}})},init:function(){var t=this,a=this;window.disqus_config=function(){a.setBaseConfig(this)},setTimeout(function(){var a=document,e=a.createElement("script");e.setAttribute("id","embed-disqus"),e.setAttribute("data-timestamp",+new Date),e.type="text/javascript",e.async=!0,e.src="//"+t.shortname+".disqus.com/embed.js",(a.head||a.body).appendChild(e)},0)},setBaseConfig:function(t){var a=this;t.page.identifier=this.identifier||this.$route.path||window.location.pathname,t.page.url=this.url||this.$el.baseURI,this.title&&(t.page.title=this.title),this.remote_auth_s3&&(t.page.remote_auth_s3=this.remote_auth_s3),this.api_key&&(t.page.api_key=this.api_key),this.sso_config&&(t.sso=this.sso_config),this.language&&(t.language=this.language),t.callbacks.onReady=[function(){a.$emit("ready")}]}}}},k78S:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.getDataLock?e("mu-linear-progress",{attrs:{color:"red"}}):t._e(),t._v(" "),e("mu-text-field",{staticClass:"appbar-search-field",attrs:{icon:"search",maxLength:"20",hintText:"AV号(可添加),或标题(仅搜索)"},on:{input:t.handleInput},nativeOn:{keyup:function(a){return"button"in a||!t._k(a.keyCode,"enter",13,a.key,"Enter")?t.search(a):null}}}),t._v(" "),e("mu-table",{attrs:{multiSelectable:!1,showCheckbox:!1},on:{rowClick:t.handleRowClick}},[e("mu-thead",{attrs:{slot:"header"},slot:"header"},[e("mu-tr",[e("mu-th",{staticStyle:{width:"10%"},attrs:{tooltip:"Avid"}},[t._v("AV号")]),t._v(" "),e("mu-th",{staticStyle:{width:"40%"},attrs:{tooltip:"Title"}},[t._v("\n          标题        （点击条目可查看Parts）\n        ")]),t._v(" "),e("mu-th",{staticStyle:{width:"15%","text-align":"center"},attrs:{tooltip:"Status"}},[t._v("视频状态")]),t._v(" "),e("mu-th",{staticStyle:{width:"15%","text-align":"center"},attrs:{tooltip:"UserCount"}},[t._v("查询次数")]),t._v(" "),e("mu-th",{staticStyle:{width:"20%"},attrs:{tooltip:"CreateDate"}},[t._v("收录时间")])],1)],1),t._v(" "),e("mu-tbody",t._l(t.danmu_data.data,function(a){return e("mu-tr",{key:a.avid,attrs:{title:"点击查看所有Part",selected:a.selected}},[e("mu-td",{staticStyle:{width:"10%","white-space":"normal"}},[t._v(t._s(a.avid))]),t._v(" "),e("mu-td",{staticStyle:{width:"40%","white-space":"normal"}},[t._v(t._s(a.title))]),t._v(" "),e("mu-td",{staticStyle:{width:"15%","white-space":"normal","text-align":"center"}},[a.deleted?t._e():e("mu-flat-button",{staticClass:"demo-flat-button",staticStyle:{"vertical-align":"middle"},attrs:{title:"",target:"_blank",href:"https://www.bilibili.com/video/av"+a.avid+"/",label:"查看",primary:""},on:{click:function(t){}}}),t._v(" "),a.deleted?e("mu-flat-button",{staticClass:"demo-flat-button",staticStyle:{"vertical-align":"middle"},attrs:{title:"",label:"下架",disabled:""}}):t._e()],1),t._v(" "),e("mu-td",{staticStyle:{width:"15%","white-space":"normal","text-align":"center"}},[t._v(t._s(a.user_count))]),t._v(" "),e("mu-td",{staticStyle:{width:"20%","white-space":"normal"}},[t._v(t._s(a.create_date))])],1)}))],1),t._v(" "),t.danmu_data.db_count>10?e("mu-pagination",{attrs:{current:t.currentPage,total:t.danmu_data.db_count,showSizeChanger:t.showSizeChanger,pageSizeOption:t.pageSizeOption},on:{pageChange:t.handlePageChange,pageSizeChange:t.handlePageSizeChange}}):t._e(),t._v(" "),e("mu-popup",{attrs:{position:"left",popupClass:"popup-left",open:t.danmuPopUp},on:{close:function(a){t.closePopup("left")}}},[e("mu-list",[e("mu-flat-button",{staticClass:"copy-btn",attrs:{"data-clipboard-text":t.copyXmlText,label:"复制全部",icon:"content_copy",primary:""}}),t._v(" "),e("mu-divider",{staticStyle:{"margin-top":"14px","margin-bottom":"14px"}}),t._v(" "),e("p",[t._v("（部分浏览器须另存为）")]),t._v(" "),t._l(t.popup_data,function(t,a){return e("mu-raised-button",{key:a,staticClass:"raised-button",attrs:{href:t.xml,label:a+"、"+t.name,download:t.name+".xml"}})})],2)],1),t._v(" "),e("mu-dialog",{staticStyle:{height:"auto",width:"100px!important"},attrs:{scrollable:!0,open:t.failDialog,title:"复制失败"}},[t._v("\n    "+t._s(t.copyXmlText)+"\n    "),e("mu-flat-button",{attrs:{slot:"actions",label:"确定",primary:""},on:{click:t.closeDialog},slot:"actions"})],1),t._v(" "),e("mu-dialog",{staticStyle:{height:"auto",width:"100px!important"},attrs:{scrollable:!1,open:t.successDialog,title:"复制成功"}},[e("span",[t._v("粘贴到下载工具即可下载")]),t._v(" "),e("mu-flat-button",{attrs:{slot:"actions",label:"确定",primary:""},on:{click:t.closeDialog},slot:"actions"})],1),t._v(" "),t.snackbar?e("mu-snackbar",{attrs:{message:t.snackbarMessage,action:"关闭"},on:{actionClick:t.hideSnackbar,close:t.hideSnackbar}}):t._e()],1)},n=[],s={render:i,staticRenderFns:n};a.a=s},rwQA:function(t,a){},xJD8:function(t,a,e){"use strict";a.a={data:function(){return{activeTab:"Danmu"}},methods:{handleTabChange:function(t){this.activeTab=t,this.$router.push({name:t})}}}}},["NHnr"]);
//# sourceMappingURL=app.a1e5d78f0993f7e56e95.js.map